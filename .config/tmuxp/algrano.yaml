session_name: algrano
windows:
 - window_name: terminal
   layout: tiled
   start_directory: ~/Work/Projects/algrano
   shell_command_before:
    - set -a && source .env && set +a && env
   panes:
    - shell_command:
      - git status
      focus: true
    - shell_command:
      - while true; do lt --port 3000 --subdomain kamil-milewski-development-localtunel || true; echo "Restarting localtunnel..."; sleep 2; done
    - shell_command:
      - bundle exec rails console
    - shell_command:
      - pg_ctl start
    - shell_command:
      - bin/dev
    - shell_command:
      - bundle exec rails jobs:work
 - window_name: editor
   layout: tiled
   start_directory: ~/Work/Projects/algrano
   shell_command_before:
    - set -a && source .env && set +a && env
    - vim
